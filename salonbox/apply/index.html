<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>お申込み | SalonBox</title>
  <meta name="description" content="SalonBox のお申込みフォーム。プラン選択、請求先情報、管理者アカウント設定、Stripeによるクレジットカード登録まで。" />
  <link rel="stylesheet" href="/css/common.css">
  <link rel="stylesheet" href="/css/form.css">
</head>
<body>
  <header>
    <div class="container nav">
      <a href="/" class="brand"><span class="logo">S</span>SalonBox</a>
      <nav class="navlinks">
        <a href="/">トップ</a>
        <a href="/contact/">お問い合わせ</a>
      </nav>
      <div class="nav-cta"><button class="hamburger" aria-label="メニュー" onclick="toggleMenu()">☰</button></div>
    </div>
  </header>
  <div id="mobileMenu" style="display:none; border-bottom:1px solid #e6eeec; background:#fff;">
    <div class="container" style="padding:12px 0; display:grid; gap:10px;">
      <a href="/" onclick="toggleMenu()">トップ</a>
      <a href="/contact/" onclick="toggleMenu()">お問い合わせ</a>
    </div>
  </div>

  <section class="hero" style="padding:48px 0 24px;background:linear-gradient(180deg,#f5f6f1 0%,#ffffff 100%);border-bottom:1px solid #e3e4de">
    <div class="container">
      <h1>お申込み</h1>
      <p>プラン選択・請求先情報・管理者アカウント設定ののち、クレジットカードをご登録ください（<strong>Stripe</strong>決済）。</p>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="stepper" id="stepper">
        <div class="step active"><div class="idx">1</div><div class="ttl">企業/利用情報</div></div>
        <div class="step"><div class="idx">2</div><div class="ttl">請求先/プラン</div></div>
        <div class="step"><div class="idx">3</div><div class="ttl">管理者設定</div></div>
        <div class="step"><div class="idx">4</div><div class="ttl">確認</div></div>
        <div class="step"><div class="idx">5</div><div class="ttl">支払い(Stripe)</div></div>
      </div>

      <form class="card" id="applyForm" action="#" method="post" novalidate>
        <div class="step-pane" data-step="1">
          <div class="form-grid">
            <div class="row"><label for="company">企業名 / 屋号 <span class="req">*</span></label><input id="company" name="company" type="text" required></div>
            <div class="row"><label for="corpnum">法人番号</label><input id="corpnum" name="corpnum" type="text" placeholder="任意"></div>
            <div class="row"><label for="industry">業種 <span class="req">*</span></label>
              <select id="industry" name="industry" required>
                <option value="" disabled selected>選択してください</option>
                <option>美容室・ヘアサロン</option><option>ネイル</option><option>アイラッシュ</option><option>エステ・リラクゼーション</option><option>その他</option>
              </select>
            </div>
            <div class="row"><label for="stores">店舗数 <span class="req">*</span></label>
              <select id="stores" name="stores" required>
                <option value="" disabled selected>選択してください</option>
                <option>1店舗</option><option>2-3店舗</option><option>4-5店舗</option><option>6-10店舗</option><option>11店舗以上</option>
              </select>
            </div>
            <div class="row"><label for="name">ご担当者名 <span class="req">*</span></label><input id="name" name="name" type="text" required></div>
            <div class="row"><label for="email">メールアドレス <span class="req">*</span></label><input id="email" name="email" type="email" required></div>
            <div class="row"><label for="tel">電話番号</label><input id="tel" name="tel" type="tel" inputmode="tel" placeholder="例）03-1234-5678"></div>
            <div class="row"><label for="website">ウェブサイト</label><input id="website" name="website" type="url" placeholder="https://example.com"></div>
            <div class="row full"><label for="usecase">利用目的・背景 <span class="req">*</span></label><textarea id="usecase" name="usecase" required placeholder="導入目的、現状の課題、期待する成果など"></textarea></div>
            <div class="row full"><label for="datasets">利用予定データ</label><textarea id="datasets" name="datasets" placeholder="例）メニュー定義CSV、売上明細CSV、変換テンプレの有無 など"></textarea></div>
          </div>
          <div class="actions"><button class="btn ghost" type="button" data-prev disabled>戻る</button><button class="btn primary" type="button" data-next>次へ</button></div>
        </div>

        <div class="step-pane" data-step="2" hidden>
          <div class="form-grid">
            <div class="row"><label for="plan">プラン <span class="req">*</span></label>
              <select id="plan" name="plan" required>
                <option value="" disabled selected>選択してください</option>
                <option value="starter">スターター（梅） 14,800円/月</option>
                <option value="business">ビジネス（竹） 24,800円/月</option>
                <option value="enterprise">エンタープライズ（松） お見積り</option>
              </select>
            </div>
            <div class="row"><label for="cycle">支払いサイクル</label>
              <select id="cycle" name="cycle">
                <option value="monthly" selected>月払い</option>
                <option value="annual">年払い（割引）</option>
              </select>
            </div>
            <div class="row"><label for="billname">請求先名義 <span class="req">*</span></label><input id="billname" name="billname" type="text" required></div>
            <div class="row"><label for="taxid">適格請求書発行事業者番号</label><input id="taxid" name="taxid" type="text" placeholder="Tから始まる13桁など"></div>
            <div class="row"><label for="zip">郵便番号 <span class="req">*</span></label><input id="zip" name="zip" type="text" required placeholder="例）100-0001"></div>
            <div class="row"><label for="pref">都道府県 <span class="req">*</span></label><input id="pref" name="pref" type="text" required></div>
            <div class="row full"><label for="addr">住所 <span class="req">*</span></label><input id="addr" name="addr" type="text" required placeholder="市区町村・番地・建物名"></div>
            <div class="row"><label for="users">想定ユーザー数</label><input id="users" name="users" type="number" min="1" step="1" placeholder="例）10"></div>
            <div class="row"><label for="start">利用開始希望日</label><input id="start" name="start" type="date"></div>
          </div>
          <div class="actions"><button class="btn ghost" type="button" data-prev>戻る</button><button class="btn primary" type="button" data-next>次へ</button></div>
        </div>

        <div class="step-pane" data-step="3" hidden>
          <div class="form-grid">
            <div class="row"><label for="adminEmail">管理者メール <span class="req">*</span></label><input id="adminEmail" name="adminEmail" type="email" required></div>
            <div class="row"><label for="adminName">管理者氏名 <span class="req">*</span></label><input id="adminName" name="adminName" type="text" required></div>
            <div class="row"><label for="adminPass">初期パスワード <span class="req">*</span></label><input id="adminPass" name="adminPass" type="password" minlength="8" required></div>
            <div class="row"><label for="adminPass2">初期パスワード（確認） <span class="req">*</span></label><input id="adminPass2" name="adminPass2" type="password" minlength="8" required></div>
            <div class="row full"><label for="notes">備考</label><textarea id="notes" name="notes" placeholder="連絡可能時間帯、既存システムとの連携希望等"></textarea></div>
            <div class="row full"><label style="display:flex;align-items:flex-start;gap:10px;font-weight:600;"><input type="checkbox" id="agree" required style="margin-top:3px;"> 利用規約・プライバシーポリシーに同意します</label><div class="hint">送信により <a href="/terms" target="_blank" rel="noopener">利用規約</a> と <a href="/privacy" target="_blank" rel="noopener">プライバシーポリシー</a> に同意したものとみなします。</div></div>
          </div>
          <div class="actions"><button class="btn ghost" type="button" data-prev>戻る</button><button class="btn primary" type="button" data-next>確認へ</button></div>
        </div>

        <div class="step-pane" data-step="4" hidden>
          <div class="card" style="padding:0">
            <table class="review" id="reviewTable"><tbody></tbody></table>
          </div>
          <div class="actions"><button class="btn ghost" type="button" data-prev>戻る</button><button class="btn primary" type="button" data-next>支払いへ</button></div>
        </div>

        <div class="step-pane" data-step="5" hidden>
          <div class="stripe-box">
            <h3 style="margin-top:0;color:var(--deep)">クレジットカードの登録（Stripe）</h3>
            <div id="card-element" style="border:1px solid #e6e2d7;border-radius:10px;padding:12px;background:#fff">Stripe Elements（カード入力UI）がここに表示されます</div>
            <div id="card-errors" role="alert" class="stripe-note"></div>
            <p class="stripe-note">※ プレビューではダミーUIです。実運用では <code>https://js.stripe.com/v3</code> を読み込み、<code>publishableKey</code> を設定して Elements を初期化してください。</p>
          </div>
          <div class="actions"><button class="btn ghost" type="button" data-prev>戻る</button><button class="btn accent" id="payBtn" type="button">カードを登録して申し込む</button></div>
          <div id="finishMsg" class="alert">ありがとうございます。お申込みを受け付けました（デモ表示）。</div>
        </div>
      </form>
    </div>
  </section>

  <footer><div class="container">© 2024 SalonBox</div></footer>

  <!-- 実運用：Stripe.js を読み込み
  <script src="https://js.stripe.com/v3"></script>
  -->
  <script src="/js/common.js"></script>
  <script src="/js/form.js"></script>
</body>
</html>
